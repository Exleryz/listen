<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" type="text/css" href="../css/main.css">
	<link rel="stylesheet" type="text/css" href="../layui/css/layui.css">
</head>
<body>
<form class="layui-form" action="">
	<!-- 题目、上传文件 -->
	<div class="headbox">
		<h1>题目:    <input type="text" name="" placeholder="请输入题目"></h1>
		<button type="button" class="layui-btn" id="test6"><i class="layui-icon"></i>上传音频</button> 
		<p>子题数：<span id="testNum"></span></p>
	</div>
	<!-- 子题目设置部分 -->
	<div class="testbox" value="">
		<ul>
			<li>
				<label class="layui-form-label">A：</label>
    			<div class="layui-input-block">
      			<input type="text" name="title" placeholder="请输入" class="layui-input">
    			</div>
    		</li>
    		<li>
				<label class="layui-form-label">B：</label>
    			<div class="layui-input-block">
      			<input type="text" name="title" placeholder="请输入" class="layui-input">
    			</div>
    		</li>
    		<li>
				<label class="layui-form-label">C：</label>
    			<div class="layui-input-block">
      			<input type="text" name="title" placeholder="请输入" class="layui-input">
    			</div>
    		</li>
    		<li>
				<label class="layui-form-label">D：</label>
    			<div class="layui-input-block">
      			<input type="text" name="title" placeholder="请输入" class="layui-input">
    			</div>
    		</li>
			<li>
				<label class="layui-form-label">正确答案：</label>
				<div class="layui-input-block">
      			<select lay-ignore>
  					<option value="A">A</option>
  					<option value="B">B</option>
  					<option value="C">C</option>
  					<option value="D">D</option>
				</select>
    			</div>
				
			</li>
		</ul>
		<!-- 关闭按钮 -->
		<div class="closebox" onclick="del(this)">
			<i class="layui-icon">&#x1007;</i>  
		</div> 
	</div>
	<!-- 增加按钮 -->
	<div class="addbox" id="addbtn">
		<i class="layui-icon">&#xe608;</i>  
	</div>

	
</form>




<script type="text/javascript" src="../js/jquery-1.12.4.js"></script>
<script type="text/javascript" src="../js/main.js"></script>
<script type="text/javascript" src="../layui/layui.all.js"></script>
<script type="text/javascript">
	layui.use('upload', function(){
  	var $ = layui.jquery
  	,upload = layui.upload;

  	upload.render({
    elem: '#test6'
    ,url: '/upload/'
    ,accept: 'audio' //音频
    ,done: function(res){
      console.log(res)
    }
  });
})
	// 给每个div编号
	function setNum(){
		var testBoxNum = $('div.testbox');
		for(var i=0;i<testBoxNum.length;i++){
			testBoxNum.eq(i).attr('value',i+1);
			// text(i+1);
		}
	}
	// 获得目前总共多少div块数量
	function getTestBoxNum(){
		var testBoxNum = $('div.testbox');
		$('#testNum').html(testBoxNum.length);
	}
	// 点击删除一个div块
	function del(obj){
		$(obj).parent().remove();
		getTestBoxNum();
		setNum();
	}
</script>
</body>
</html>